{% load i18n %}

<div class="btn fileinput-button">
  <i class="icon-plus icon-white"></i>

  {% if multiple %}
  <span>{% trans "Select images..." %}</span>
  {% else %}
  {% if attachments %}
  <span>{% trans "Replace image..." %}</span>
  {% else %}
  <span>{% trans "Select image..." %}</span>
  {% endif %}
  {% endif %}

  <input type="file" 
         {% if multiple %}
         multiple="true"
         {% endif %}
         name="{{ name }}_upload"
         {% if show_progress %}
         data-progress="#progress_{{ name }}"
         {% endif %}
         data-attachmenttype="image"
         data-valuefield="#id_{{ name }}"
         data-target="#uploads_{{ name }}" />

  <input id="id_{{ name }}" name="{{ name }}" type="hidden" 
         value="{{ value }}" />

</div>

{% if show_progress %}
<div id="progress_{{ name }}" 
     class="progress progress-info progress-striped hide">
  <div class="bar"></div>
</div>
{% endif %}

<ul class="unstyled uploaded-files" id="uploads_{{ name }}">
  {% include "pgcontent/snippets/imageattachments.html" %}
</ul>
